// 01: Utilizando o operadorÂ $all, retorne todos os filmes que contenhamÂ actionÂ eÂ adventureÂ noÂ arrayÂ category.
use('cinema');
db.movies.find({ category: { $all: ['action', 'adventure']} });

// 02: ğŸš€ Agora retorne os filmes que contenhamÂ actionÂ eÂ sci-fiÂ noÂ arrayÂ categoryÂ e possuem nota doÂ IMDBÂ maior do queÂ 7.

use('cinema');
db.movies.find({
  category: {
    $all: ['action', 'sci-fi']
  },
  imdbRating: { $gt: 7}
});

// 3: Retorne todos os filmes comÂ ratingsÂ maior do queÂ 103, exibindo apenas os camposÂ titleÂ eÂ ratings.

use('cinema');
db.movies.find({
  ratings: {
    $elemMatch: {$gt: 103}
  }
}, {_id: 0, title: 1, ratings: 1});

// 4:  Retorne todos os filmes comÂ ratingsÂ entreÂ 100Â eÂ 105, exibindo apenas os camposÂ titleÂ eÂ ratings.

use('cinema');
db.movies.find({
  ratings: {
    $elemMatch: {$gte: 100, $lte: 105}
  }
}, {_id: 0, title: 1, ratings: 1});

// 5  Retorne todos os filmes comÂ ratingsÂ entreÂ 64Â eÂ 105Â e divisÃ­veis porÂ 9, exibindo apenas os camposÂ titleÂ eÂ ratings.

use('cinema');
db.movies.find({
  ratings: {
    $elemMatch: {$gte: 64, $lte: 105, $mod: [9, 0] }
  },
}, {_id: 0, title: 1, ratings: 1});

// 6 Retorne os filmes da categoriaÂ adventureÂ e comÂ ratingsÂ maior do queÂ 103, exibindo apenas os camposÂ title,Â ratingsÂ eÂ category.

use('cinema');
db.movies.find({
  category: { $all: ['adventure']},
  ratings: {
    $elemMatch: { $gt: 103 }
  },
}, {_id: 0, title: 1, ratings: 1, category: 1});

// 7: Retorne somente o tÃ­tulo de todos os filmes com dois elementos noÂ arrayÂ category.

use('cinema');
db.movies.find({
  category: {
    $size: 2
  }
}, { _id: 0, title: 1});

// 8: Retorne somente o tÃ­tulo de todos os filmes com quatro elementos noÂ arrayÂ ratings.

use('cinema');
db.movies.find({
  ratings: { $size: 4}
}, { _id: 0, title: 1});

// 9: Busque os filmes em que o mÃ³dulo 5 do campoÂ budgetÂ seja 0 e que o arrayÂ categoryÂ tenha tamanhoÂ 2.

use('cinema');
db.movies.find({ 
    budget: { $mod: [5,0]},
    category: { $size: 2}
});

// 10:  Retorne os filmes da categoriaÂ "sci-fi"Â ou que possua oÂ ratingsÂ maior do queÂ 199, exibindo apenas os camposÂ title,Â ratingsÂ eÂ category.

use('cinema');
db.movies.find({
  $or: [
    {category: { $all: ['sci-fi']}},
    {ratings: { $elemMatch: { $gt: 199}}}
    ]
}, {_id: 0, title: 1, ratings: 1, category: 1});

// 11: Retorne os filmes em que oÂ ratingsÂ possua tamanho 4 e que seja daÂ categoryÂ "adventure"Â ouÂ "family", mas que nÃ£o tenha oÂ imdbRatingÂ menor que 7.

use('cinema');
db.movies.find({
  $and: [
    {ratings: { $size: 4}},
    {category: { $in: ['adventure', 'family'] }},
    {imdbRating: { $not: { $lt: 7}}}
  ]
});

//12:  Utilizando o operadorÂ $regex, retorne todos os filmes em que a descriÃ§Ã£o comece com a palavraÂ "The".

use('cinema');
db.movies.find({
  description: { $regex: /^The/ }
}, { title: 1, description: 1});

// 13: Utilizando o operadorÂ $regex, retorne todos os filmes em que a descriÃ§Ã£o termine com a palavraÂ "humanity.".
use('cinema');
db.movies.find({
  description: { $regex: /humanity.$/}
}, { title: 1, description: 1});